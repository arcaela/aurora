{"version":3,"file":"index.modern.js","sources":["../hooks/useTheme/index.js","../hooks/useRoutes/index.js","../index.js"],"sourcesContent":["import { useState } from 'react';\r\nimport { createMuiTheme } from '@material-ui/core';\r\nconst Theme = {\r\n    $all:{},\r\n    $theme:null,\r\n    DEFAULT_THEME:createMuiTheme({}),\r\n    get theme(){ return this.$theme || this.$all['DEFAULT'] || this.DEFAULT_THEME; },\r\n    create(key, props){ return this.$all[key] = createMuiTheme(props); },\r\n    use(key){ return (key in this.$all)?(this.$theme=this.$all[key]):null; },\r\n};\r\nfunction useTheme(){\r\n    const [ theme, setTheme ] = useState(Theme.theme);\r\n    Theme.$theme = theme;\r\n    Theme.use = (key)=>{\r\n        if(key&&key in Theme.$all)\r\n            Theme.$theme=Theme.$all[key];\r\n        return setTheme(Theme.theme);\r\n    };\r\n    return Theme;\r\n};\r\nexport default useTheme;\r\nexport {\r\n    Theme,\r\n};","import React from 'react'\nimport pathToRegex from 'path-to-regex'\nimport { useHistory, useLocation } from 'react-router-dom';\n\n\n/* Provider */\nconst Provider = {\n    routes:[],\n    fallback:()=>(<span>404</span>),\n};\n\nfunction RouteComponent(){\n    const RouteSelected = Provider.routes.reduce((selected, route)=>{\n        if(selected) return selected;\n        route.$props.params = route.match(window.location.pathname);\n        return route.$props.params?route.$props:null;\n    },null) || { render:Provider.fallback, params:{}, };\n    const request = {\n        route:RouteSelected,\n        history:useHistory(),\n        location:useLocation(),\n        get params(){ return this.route.params; },\n        redirect(path){ return this.history.replace(path); },\n    };\n    if( RouteSelected.redirect )\n        return request.history.replace(RouteSelected.redirect);\n    if( typeof RouteSelected.render === 'object' && typeof RouteSelected.render.$$typeof == 'symbol' )\n        return RouteSelected.render;\n    if(RouteSelected.render.prototype && RouteSelected.render.prototype.isReactComponent){\n        const RouteComponent = RouteSelected.render;\n        return <RouteComponent {...request} />\n    }\n    return RouteSelected.render(request);\n};\n\n/* Model */\nclass RouteClass {\n    Provider = Provider\n    $props = {};\n    match = ()=>{}\n    constructor(path, render=null){ return this.path(path).render(render); }\n    path(path){\n        this.$props.path = path;\n        this.match = (pathStr)=>(new pathToRegex(path)).match(pathStr);\n        return this\n    }\n    render(render){\n        this.$props.render=render;\n        this.$props.redirect=null;\n        return this;\n    }\n    redirect(redirect){\n        this.$props.redirect=redirect;\n        return this;\n    }\n}\nfunction Route(){\n    const route = new RouteClass(...arguments);\n    Provider.routes.push(route);\n    return route;\n}\nRoute.redirect = (from,to)=>(Route(from).redirect(to));\nRoute.fallback = fallback=>(Provider.fallback=fallback);\nRoute.find = (path)=>Provider.routes.filter(route=>route.match(path))[0];\nfunction useRoutes(){ return Provider; }\n\nexport default useRoutes;\nexport {\n    Route,\n    Provider,\n    useRoutes,\n    RouteComponent,\n};\n","import React from 'react'\nimport { BrowserRouter } from 'react-router-dom';\nimport useTheme, { Theme } from './hooks/useTheme'\nimport { CssBaseline, ThemeProvider } from '@material-ui/core';\nimport useRoutes, { Route, RouteComponent } from './hooks/useRoutes';\n\nfunction AuroraJS() {\n  const { theme } = useTheme();\n  return (<ThemeProvider theme={theme}>\n    <CssBaseline />\n    <BrowserRouter>\n      <RouteComponent />\n    </BrowserRouter>\n  </ThemeProvider>);\n}\n\nexport default AuroraJS;\nexport {\n  Theme,\n  Route,\n  useTheme,\n  useRoutes,\n};\n"],"names":["Theme","$all","$theme","DEFAULT_THEME","createMuiTheme","theme","create","key","props","use","useTheme","useState","setTheme","Provider","routes","fallback","RouteComponent","RouteSelected","reduce","selected","route","$props","params","match","window","location","pathname","render","request","history","useHistory","useLocation","redirect","path","replace","$$typeof","prototype","isReactComponent","RouteClass","pathStr","pathToRegex","Route","arguments","push","from","to","find","filter","useRoutes","AuroraJS"],"mappings":"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"}