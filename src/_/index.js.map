{"version":3,"file":"index.js","sources":["../hooks/useTheme/index.js","../hooks/useRoutes/index.js","../index.jsx"],"sourcesContent":["import { useState } from 'react';\r\nimport { createMuiTheme } from '@material-ui/core';\r\nconst Theme = {\r\n    $all:{},\r\n    $theme:null,\r\n    DEFAULT_THEME:createMuiTheme({}),\r\n    get theme(){ return this.$theme || this.$all['DEFAULT'] || this.DEFAULT_THEME; },\r\n    create(key, props){ return this.$all[key] = createMuiTheme(props); },\r\n    use(key){ return (key in this.$all)?(this.$theme=this.$all[key]):null; },\r\n};\r\nfunction useTheme(){\r\n    const [ theme, setTheme ] = useState(Theme.theme);\r\n    Theme.$theme = theme;\r\n    Theme.use = (key)=>{\r\n        if(key&&key in Theme.$all)\r\n            Theme.$theme=Theme.$all[key];\r\n        return setTheme(Theme.theme);\r\n    };\r\n    return Theme;\r\n};\r\nexport default useTheme;\r\nexport {\r\n    Theme,\r\n};","import React from 'react'\nimport pathToRegex from 'path-to-regex'\nimport { useHistory, useLocation } from 'react-router-dom';\n\n\n/* Provider */\nconst Provider = {\n    routes:[],\n    fallback:()=>(<span>404</span>),\n};\n\nfunction RouteComponent(){\n    const RouteSelected = Provider.routes.reduce((selected, route)=>{\n        if(selected) return selected;\n        route.$props.params = route.match(window.location.pathname);\n        return route.$props.params?route.$props:null;\n    },null) || { render:Provider.fallback, params:{}, };\n    const request = {\n        route:RouteSelected,\n        history:useHistory(),\n        location:useLocation(),\n        get params(){ return this.route.params; },\n        redirect(path){ return this.history.replace(path); },\n    };\n    if( RouteSelected.redirect )\n        return request.history.replace(RouteSelected.redirect);\n    if( typeof RouteSelected.render === 'object' && typeof RouteSelected.render.$$typeof == 'symbol' )\n        return RouteSelected.render;\n    if(RouteSelected.render.prototype && RouteSelected.render.prototype.isReactComponent){\n        const RouteComponent = RouteSelected.render;\n        return <RouteComponent {...request} />\n    }\n    return RouteSelected.render(request);\n};\n\n/* Model */\nclass RouteClass {\n    Provider = Provider\n    $props = {};\n    match = ()=>{}\n    constructor(path, render=null){ return this.path(path).render(render); }\n    path(path){\n        this.$props.path = path;\n        this.match = (pathStr)=>(new pathToRegex(path)).match(pathStr);\n        return this\n    }\n    render(render){\n        this.$props.render=render;\n        this.$props.redirect=null;\n        return this;\n    }\n    redirect(redirect){\n        this.$props.redirect=redirect;\n        return this;\n    }\n}\nfunction Route(){\n    const route = new RouteClass(...arguments);\n    Provider.routes.push(route);\n    return route;\n}\nRoute.redirect = (from,to)=>(Route(from).redirect(to));\nRoute.fallback = fallback=>(Provider.fallback=fallback);\nRoute.find = (path)=>Provider.routes.filter(route=>route.match(path))[0];\nfunction useRoutes(){ return Provider; }\n\nexport default useRoutes;\nexport {\n    Route,\n    Provider,\n    useRoutes,\n    RouteComponent,\n};\n","import React from 'react'\nimport useTheme from './hooks/useTheme'\nimport { BrowserRouter } from 'react-router-dom';\nimport { CssBaseline, ThemeProvider } from '@material-ui/core';\nimport { RouteComponent } from './hooks/useRoutes';\nexport default function AuroraJS() {\n  const { theme } = useTheme();\n  return (<ThemeProvider theme={theme}>\n    <CssBaseline />\n    <BrowserRouter>\n      <RouteComponent />\n    </BrowserRouter>\n  </ThemeProvider>);\n}\n"],"names":["Theme","$all","$theme","DEFAULT_THEME","createMuiTheme","theme","create","key","props","use","useTheme","useState","setTheme","Provider","routes","fallback","React","RouteComponent","RouteSelected","reduce","selected","route","$props","params","match","window","location","pathname","render","request","history","useHistory","useLocation","redirect","path","replace","$$typeof","prototype","isReactComponent","AuroraJS","ThemeProvider","CssBaseline","BrowserRouter"],"mappings":"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"}